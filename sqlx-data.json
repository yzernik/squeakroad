{
  "db": "SQLite",
  "0389d1e24d67dbdc1c8b79f34a68bea56bf1a30a86f939ee07ca0ffddf63e72e": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "listing_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 3,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "public_id",
          "ordinal": 5,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from shippingoptions WHERE listing_id = ? ORDER BY shippingoptions.price_msat ASC;"
  },
  "11e3096becb72f427c8d3911ef4327afd9516143806981e11f8e34d069c14472": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "text",
          "ordinal": 2,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "SELECT id, title, text FROM posts WHERE id = ?"
  },
  "1a1634376a31188dcb88d3ea0fe135524e26d9df31d44c5804e2f0705ecc102d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "user_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 4,
          "type_info": "Int64"
        },
        {
          "name": "submitted",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "approved",
          "ordinal": 6,
          "type_info": "Bool"
        },
        {
          "name": "created_time_ms",
          "ordinal": 7,
          "type_info": "Int64"
        },
        {
          "name": "public_id",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "removed",
          "ordinal": 9,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 0
      }
    },
    "query": "select * from listings;"
  },
  "23f4121fdf237d52eda133d4169eab815dc827b57b88f05d3b97554fd286b393": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 1
      }
    },
    "query": "DELETE FROM shippingoptions WHERE public_id = ?"
  },
  "261ae4d53a3d68662ee430409620d00cee4a835d5ea7b31a825b12e42213913f": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 5
      }
    },
    "query": "INSERT INTO shippingoptions (public_id, listing_id, title, description, price_msat) VALUES (?, ?, ?, ?, ?)"
  },
  "3c289da9873097a11191dbedc5c78d86afd6a6d36771bfeb12f331abca6279cf": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 2
      }
    },
    "query": "INSERT INTO posts (title, text) VALUES (?, ?)"
  },
  "4415c35941e52a981b10707fe2e1ceb0bad0e473701e51ef21ecb2973c76b4df": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Right": 0
      }
    },
    "query": "SELECT id FROM posts"
  },
  "501eb603b5ab9e467ecb0b5211b67740d1455a34904bbe5ba45bdb0975f18b50": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 1
      }
    },
    "query": "UPDATE listingimages SET is_primary = false WHERE listing_id = ?"
  },
  "5a6246996f15afb8cfbc88c883a6711833015aa0d702434bd58df2699ab05360": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 9
      }
    },
    "query": "INSERT INTO listings (public_id, user_id, title, description, price_msat, submitted, approved, removed, created_time_ms) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)"
  },
  "605752b2a483360181b72529b1f3308c826930b42a8e4e9eba09599b46d53954": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 3
      }
    },
    "query": "INSERT INTO listingimages (public_id, listing_id, image_data) VALUES (?, ?, ?)"
  },
  "668690acaca0a0c0b4ac306b14d82aa1bee940f0776fae3f9962639b78328858": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 0
      }
    },
    "query": "DELETE FROM posts"
  },
  "770ec17e2277e313a56c78ecab71d0ee460922cac72efddf9869ca4194276572": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "password",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "is_admin",
          "ordinal": 3,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        true
      ],
      "parameters": {
        "Right": 0
      }
    },
    "query": "select * from users;"
  },
  "79301b44b77802e0096efd73b1e9adac27b27a3cf7bf853af3a9f130b1684d91": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 1
      }
    },
    "query": "DELETE FROM posts WHERE id = ?"
  },
  "831a6a6dddf3f2512240d6688a2625069fb55eee8e79656d7a2b6e736b680b65": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "public_id",
          "ordinal": 1,
          "type_info": "Text"
        },
        {
          "name": "user_id",
          "ordinal": 2,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 5,
          "type_info": "Int64"
        },
        {
          "name": "submitted",
          "ordinal": 6,
          "type_info": "Bool"
        },
        {
          "name": "approved",
          "ordinal": 7,
          "type_info": "Bool"
        },
        {
          "name": "removed",
          "ordinal": 8,
          "type_info": "Bool"
        },
        {
          "name": "created_time_ms",
          "ordinal": 9,
          "type_info": "Int64"
        },
        {
          "name": "image_id",
          "ordinal": 10,
          "type_info": "Int64"
        },
        {
          "name": "image_public_id",
          "ordinal": 11,
          "type_info": "Text"
        },
        {
          "name": "listing_id",
          "ordinal": 12,
          "type_info": "Int64"
        },
        {
          "name": "image_data",
          "ordinal": 13,
          "type_info": "Blob"
        },
        {
          "name": "is_primary",
          "ordinal": 14,
          "type_info": "Bool"
        },
        {
          "name": "rocket_auth_user_id",
          "ordinal": 15,
          "type_info": "Int64"
        },
        {
          "name": "rocket_auth_user_username",
          "ordinal": 16,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        true,
        true
      ],
      "parameters": {
        "Right": 0
      }
    },
    "query": "\nselect\n listings.id, listings.public_id, listings.user_id, listings.title, listings.description, listings.price_msat, listings.submitted, listings.approved, listings.removed, listings.created_time_ms, listingimages.id as image_id, listingimages.public_id as image_public_id, listingimages.listing_id, listingimages.image_data, listingimages.is_primary, users.id as rocket_auth_user_id, users.email as rocket_auth_user_username\nfrom\n listings\nLEFT JOIN\n listingimages\nON\n listings.id = listingimages.listing_id\nAND\n listingimages.is_primary = (SELECT MAX(is_primary) FROM listingimages WHERE listing_id = listings.id)\nINNER JOIN\n users\nON\n listings.user_id = users.id\nGROUP BY\n listings.id\n;"
  },
  "88bd66872045161c59db2a2eb7d828bb3fd56a96dbe99d9773a89b0d7b935538": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "user_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 4,
          "type_info": "Int64"
        },
        {
          "name": "submitted",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "approved",
          "ordinal": 6,
          "type_info": "Bool"
        },
        {
          "name": "created_time_ms",
          "ordinal": 7,
          "type_info": "Int64"
        },
        {
          "name": "public_id",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "removed",
          "ordinal": 9,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from listings WHERE public_id = ?;"
  },
  "95888610b35c9edb6b0105379cafc78f3752215f85adcbe4f18611545e5eb282": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        false,
        true
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select id, email from users WHERE id = ?;"
  },
  "979857f3420a9ab2cdbc9a85f7d7b37e213379d78a759b7f2d4cb7fe745de47d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "listing_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "description",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 3,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 4,
          "type_info": "Text"
        },
        {
          "name": "public_id",
          "ordinal": 5,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from shippingoptions WHERE public_id = ?;"
  },
  "9b322f99493b941e1a95d5f82dce82d5e9d3e0bd683408cd9e81e1d52e5a72b5": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "user_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "title",
          "ordinal": 2,
          "type_info": "Text"
        },
        {
          "name": "description",
          "ordinal": 3,
          "type_info": "Text"
        },
        {
          "name": "price_msat",
          "ordinal": 4,
          "type_info": "Int64"
        },
        {
          "name": "submitted",
          "ordinal": 5,
          "type_info": "Bool"
        },
        {
          "name": "approved",
          "ordinal": 6,
          "type_info": "Bool"
        },
        {
          "name": "created_time_ms",
          "ordinal": 7,
          "type_info": "Int64"
        },
        {
          "name": "public_id",
          "ordinal": 8,
          "type_info": "Text"
        },
        {
          "name": "removed",
          "ordinal": 9,
          "type_info": "Bool"
        }
      ],
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from listings WHERE id = ?;"
  },
  "b3f7779f61e725801c7ca07f135147d29d40d68fdc545e1ed71c624daf195562": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 2
      }
    },
    "query": "UPDATE listingimages SET is_primary = true WHERE listing_id = ? AND public_id = ?"
  },
  "cfa7d7cc21275c9db2ffc6d6c6fe7f1bfdce31858ababbde8407e1622cc63709": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Right": 1
      }
    },
    "query": "DELETE FROM listingimages WHERE public_id = ?"
  },
  "e94cd0fbe6f4a8d90120733fb88081da00668901ed37ba6ca200f82dc2331aaa": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "listing_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "image_data",
          "ordinal": 2,
          "type_info": "Blob"
        },
        {
          "name": "is_primary",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "public_id",
          "ordinal": 4,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from listingimages WHERE listing_id = ? ORDER BY listingimages.is_primary DESC;"
  },
  "ed5a85251b933b1a71338d447e32bb5e275d767f7eb1894f5c31beef84a16505": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "listing_id",
          "ordinal": 1,
          "type_info": "Int64"
        },
        {
          "name": "image_data",
          "ordinal": 2,
          "type_info": "Blob"
        },
        {
          "name": "is_primary",
          "ordinal": 3,
          "type_info": "Bool"
        },
        {
          "name": "public_id",
          "ordinal": 4,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        false,
        false,
        false,
        false
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select * from listingimages WHERE public_id = ?;"
  },
  "f3c7d0e13ccbd741995710b1f499ac389e10eedaa31fdcba90c411a9f2472323": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int64"
        },
        {
          "name": "email",
          "ordinal": 1,
          "type_info": "Text"
        }
      ],
      "nullable": [
        true,
        true
      ],
      "parameters": {
        "Right": 1
      }
    },
    "query": "select id, email from users WHERE email = ?;"
  }
}